//
//  main.swift
//  å±æ€§ (Properties)
//
//  Created by Edwin on 16/2/25.
//  Copyright Â© 2016å¹´ EdwinXiang. All rights reserved.
//

import Foundation

/***************** å±æ€§(Properties) **********************/
/**
å­˜å‚¨å±æ€§ï¼ˆStored Propertiesï¼‰
è®¡ç®—å±æ€§ï¼ˆComputed Propertiesï¼‰
å±æ€§è§‚å¯Ÿå™¨ï¼ˆProperty Observersï¼‰
å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ï¼ˆGlobal and Local Variablesï¼‰
ç±»å‹å±æ€§ï¼ˆType Propertiesï¼‰

å±æ€§å°†å€¼è·Ÿç‰¹å®šçš„ç±»ã€ç»“æ„æˆ–æšä¸¾å…³è”ã€‚å­˜å‚¨å±æ€§å­˜å‚¨å¸¸é‡æˆ–å˜é‡ä½œä¸ºå®ä¾‹çš„ä¸€éƒ¨åˆ†ï¼Œè€Œè®¡ç®—å±æ€§è®¡ç®—ï¼ˆä¸æ˜¯å­˜å‚¨ï¼‰ä¸€ä¸ªå€¼ã€‚è®¡ç®—å±æ€§å¯ä»¥ç”¨äºç±»ã€ç»“æ„ä½“å’Œæšä¸¾ï¼Œå­˜å‚¨å±æ€§åªèƒ½ç”¨äºç±»å’Œç»“æ„ä½“ã€‚
å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§é€šå¸¸ä¸ç‰¹å®šç±»å‹çš„å®ä¾‹å…³è”ã€‚ä½†æ˜¯ï¼Œå±æ€§ä¹Ÿå¯ä»¥ç›´æ¥ä½œç”¨äºç±»å‹æœ¬èº«ï¼Œè¿™ç§å±æ€§ç§°ä¸ºç±»å‹å±æ€§ã€‚
å¦å¤–ï¼Œè¿˜å¯ä»¥å®šä¹‰å±æ€§è§‚å¯Ÿå™¨æ¥ç›‘æ§å±æ€§å€¼çš„å˜åŒ–ï¼Œä»¥æ­¤æ¥è§¦å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„æ“ä½œã€‚å±æ€§è§‚å¯Ÿå™¨å¯ä»¥æ·»åŠ åˆ°è‡ªå·±å®šä¹‰çš„å­˜å‚¨å±æ€§ä¸Šï¼Œä¹Ÿå¯ä»¥æ·»åŠ åˆ°ä»çˆ¶ç±»ç»§æ‰¿çš„å±æ€§ä¸Šã€‚
*/

//1. å­˜å‚¨å±æ€§
//ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªå­˜å‚¨å±æ€§å°±æ˜¯å­˜å‚¨åœ¨ç‰¹å®šç±»æˆ–ç»“æ„ä½“çš„å®ä¾‹é‡Œçš„ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡ã€‚å­˜å‚¨å±æ€§å¯ä»¥æ˜¯å˜é‡å­˜å‚¨å±æ€§ï¼ˆç”¨å…³é”®å­—varå®šä¹‰ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¸é‡å­˜å‚¨å±æ€§ï¼ˆç”¨å…³é”®å­—letå®šä¹‰ï¼‰ã€‚
struct FixedLenghtRange {
    var firstValue:Int
    let lenght:Int
}
//lengthåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™è¢«åˆå§‹åŒ–ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¸¸é‡å­˜å‚¨å±æ€§ï¼Œæ‰€ä»¥ä¹‹åæ— æ³•ä¿®æ”¹å®ƒçš„å€¼
var rangeOfThreeItems = FixedLenghtRange(firstValue: 0, lenght: 3) //0,1,2
print(rangeOfThreeItems.firstValue) //0

rangeOfThreeItems.firstValue = 6 //6,7,8

let rangeOfFourItems = FixedLenghtRange(firstValue: 0, lenght: 4) //0,1,2,3
//å› ä¸ºrangeOfFourItemsè¢«å£°æ˜æˆäº†å¸¸é‡ï¼ˆç”¨letå…³é”®å­—ï¼‰ï¼Œå³ä½¿firstValueæ˜¯ä¸€ä¸ªå˜é‡å±æ€§ï¼Œä¹Ÿæ— æ³•å†ä¿®æ”¹å®ƒäº†ã€‚
//è¿™ç§è¡Œä¸ºæ˜¯ç”±äºç»“æ„ä½“ï¼ˆstructï¼‰å±äºå€¼ç±»å‹ã€‚å½“å€¼ç±»å‹çš„å®ä¾‹è¢«å£°æ˜ä¸ºå¸¸é‡çš„æ—¶å€™ï¼Œå®ƒçš„æ‰€æœ‰å±æ€§ä¹Ÿå°±æˆäº†å¸¸é‡ã€‚
//å±äºå¼•ç”¨ç±»å‹çš„ç±»ï¼ˆclassï¼‰åˆ™ä¸ä¸€æ ·ã€‚æŠŠä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å®ä¾‹èµ‹ç»™ä¸€ä¸ªå¸¸é‡åï¼Œä»ç„¶å¯ä»¥ä¿®æ”¹è¯¥å®ä¾‹çš„å˜é‡å±æ€§ã€‚
//rangeOfFourItems.firstValue = 3 //

//2. å»¶è¿Ÿå­˜å‚¨å±æ€§

//å»¶è¿Ÿå­˜å‚¨å±æ€§æ˜¯æŒ‡å½“ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè®¡ç®—å…¶åˆå§‹å€¼çš„å±æ€§ã€‚åœ¨å±æ€§å£°æ˜å‰ä½¿ç”¨lazyæ¥æ ‡ç¤ºä¸€ä¸ªå»¶è¿Ÿå­˜å‚¨å±æ€§ã€‚
//ğŸ· å¿…é¡»å°†å»¶è¿Ÿå­˜å‚¨å±æ€§å£°æ˜æˆå˜é‡ï¼ˆä½¿ç”¨varå…³é”®å­—ï¼‰ï¼Œå› ä¸ºå±æ€§çš„åˆå§‹å€¼å¯èƒ½åœ¨å®ä¾‹æ„é€ å®Œæˆä¹‹åæ‰ä¼šå¾—åˆ°ã€‚è€Œå¸¸é‡å±æ€§åœ¨æ„é€ è¿‡ç¨‹å®Œæˆä¹‹å‰å¿…é¡»è¦æœ‰åˆå§‹å€¼ï¼Œå› æ­¤æ— æ³•å£°æ˜æˆå»¶è¿Ÿå±æ€§ã€‚
//å»¶è¿Ÿå±æ€§å¾ˆæœ‰ç”¨ï¼Œå½“å±æ€§çš„å€¼ä¾èµ–äºåœ¨å®ä¾‹çš„æ„é€ è¿‡ç¨‹ç»“æŸåæ‰ä¼šçŸ¥é“å…·ä½“å€¼çš„å¤–éƒ¨å› ç´ æ—¶ï¼Œæˆ–è€…å½“è·å¾—å±æ€§çš„åˆå§‹å€¼éœ€è¦å¤æ‚æˆ–å¤§é‡è®¡ç®—æ—¶ï¼Œå¯ä»¥åªåœ¨éœ€è¦çš„æ—¶å€™è®¡ç®—å®ƒã€‚

class DataImporter {
    /*
    DataImporter æ˜¯ä¸€ä¸ªè´Ÿè´£å°†å¤–éƒ¨æ–‡ä»¶ä¸­çš„æ•°æ®å¯¼å…¥çš„ç±»ã€‚
    è¿™ä¸ªç±»çš„åˆå§‹åŒ–ä¼šæ¶ˆè€—ä¸å°‘æ—¶é—´ã€‚
    */
    var fileName = "data.txt"
    // è¿™é‡Œä¼šæä¾›æ•°æ®å¯¼å…¥åŠŸèƒ½
}

class DataManager {
    lazy var importer = DataImporter()
    var data = [String]()
    //è¿™é‡Œæä¾›æ•°æ®ç®¡ç†åŠŸèƒ½
}

let manager = DataManager()
manager.data.append("some data")
manager.data.append("some more data")
/**
DataManagerçš„ä¸€ä¸ªåŠŸèƒ½æ˜¯ä»æ–‡ä»¶å¯¼å…¥æ•°æ®ã€‚è¯¥åŠŸèƒ½ç”±DataImporterç±»æä¾›ï¼ŒDataImporterå®Œæˆåˆå§‹åŒ–éœ€è¦æ¶ˆè€—ä¸å°‘æ—¶é—´ï¼šå› ä¸ºå®ƒçš„å®ä¾‹åœ¨åˆå§‹åŒ–æ—¶å¯èƒ½è¦æ‰“å¼€æ–‡ä»¶ï¼Œè¿˜è¦è¯»å–æ–‡ä»¶å†…å®¹åˆ°å†…å­˜ã€‚

DataManagerç®¡ç†æ•°æ®æ—¶ä¹Ÿå¯èƒ½ä¸ä»æ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®ã€‚æ‰€ä»¥å½“DataManagerçš„å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œæ²¡å¿…è¦åˆ›å»ºä¸€ä¸ªDataImporterçš„å®ä¾‹ï¼Œæ›´æ˜æ™ºçš„åšæ³•æ˜¯ç¬¬ä¸€æ¬¡ç”¨åˆ°DataImporterçš„æ—¶å€™æ‰å»åˆ›å»ºå®ƒã€‚
*/
//ç”±äºä½¿ç”¨äº†lazyï¼Œimporterå±æ€§åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®çš„æ—¶å€™æ‰è¢«åˆ›å»ºã€‚æ¯”å¦‚è®¿é—®å®ƒçš„å±æ€§fileNameæ—¶ï¼š
print(manager.importer.fileName) //å±æ€§ç°åœ¨è¢«åˆ›å»º
//ğŸ· å¦‚æœä¸€ä¸ªè¢«æ ‡è®°ä¸ºlazyçš„å±æ€§åœ¨æ²¡æœ‰åˆå§‹åŒ–æ—¶å°±åŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®ï¼Œåˆ™æ— æ³•ä¿è¯è¯¥å±æ€§åªä¼šè¢«åˆå§‹åŒ–ä¸€æ¬¡ã€‚


//3. å­˜å‚¨å±æ€§å’Œå®ä¾‹å˜é‡
/**
*  è®¡ç®—å±æ€§
é™¤å­˜å‚¨å±æ€§å¤–ï¼Œç±»ã€ç»“æ„ä½“å’Œæšä¸¾å¯ä»¥å®šä¹‰è®¡ç®—å±æ€§ã€‚è®¡ç®—å±æ€§ä¸ç›´æ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ª getter å’Œä¸€ä¸ªå¯é€‰çš„ setterï¼Œæ¥é—´æ¥è·å–å’Œè®¾ç½®å…¶ä»–å±æ€§æˆ–å˜é‡çš„å€¼
*/
struct Point {
    var x = 0.0,y = 0.0
}

struct Size {
    var width = 0.0,height = 0.0
}

struct Rect {
    var origin = Point()
    var size = Size()
    var center:Point {
        get {
            let centerX = origin.x + (size.width / 2)
            let centerY = origin.y + (size.height / 2)
            return Point(x: centerX, y: centerY)
        }
        
        set(newCenter) {
            origin.x = newCenter.x - (size.width / 2)
            origin.y = newCenter.y - (size.height / 2)
        }
    }
}
var square = Rect(origin: Point(x: 0.0, y: 0.0), size: Size(width: 10.0, height: 10.0))
let initialSquareCenter = square.center //get æ–¹æ³•
print(initialSquareCenter)

square.center = Point(x: 15.0, y: 15.0) //rect çš„setæ–¹æ³•
print("square.origin is now at (\(square.origin.x), \(square.origin.y))")
/*
è¿™ä¸ªä¾‹å­å®šä¹‰äº† 3 ä¸ªç»“æ„ä½“æ¥æè¿°å‡ ä½•å½¢çŠ¶ï¼š

Pointå°è£…äº†ä¸€ä¸ª(x, y)çš„åæ ‡
Sizeå°è£…äº†ä¸€ä¸ªwidthå’Œä¸€ä¸ªheight
Rectè¡¨ç¤ºä¸€ä¸ªæœ‰åŸç‚¹å’Œå°ºå¯¸çš„çŸ©å½¢
Rectä¹Ÿæä¾›äº†ä¸€ä¸ªåä¸ºcenterçš„è®¡ç®—å±æ€§ã€‚ä¸€ä¸ªçŸ©å½¢çš„ä¸­å¿ƒç‚¹å¯ä»¥ä»åŸç‚¹ï¼ˆoriginï¼‰å’Œå°ºå¯¸ï¼ˆsizeï¼‰ç®—å‡ºï¼Œæ‰€ä»¥ä¸éœ€è¦å°†å®ƒä»¥æ˜¾å¼å£°æ˜çš„Pointæ¥ä¿å­˜ã€‚Rectçš„è®¡ç®—å±æ€§centeræä¾›äº†è‡ªå®šä¹‰çš„ getter å’Œ setter æ¥è·å–å’Œè®¾ç½®çŸ©å½¢çš„ä¸­å¿ƒç‚¹ï¼Œå°±åƒå®ƒæœ‰ä¸€ä¸ªå­˜å‚¨å±æ€§ä¸€æ ·
*/

//ä¾¿æ· setter å£°æ˜

//å¦‚æœè®¡ç®—å±æ€§çš„ setter æ²¡æœ‰å®šä¹‰è¡¨ç¤ºæ–°å€¼çš„å‚æ•°åï¼Œåˆ™å¯ä»¥ä½¿ç”¨é»˜è®¤åç§°newValueã€‚ä¸‹é¢æ˜¯ä½¿ç”¨äº†ä¾¿æ· setter å£°æ˜çš„Rectç»“æ„ä½“ä»£ç ï¼š
struct alternativeRect {
    var origin = Point()
    var size = Size()
    var center:Point {
        get {
            let centerX = origin.x + (size.width / 2)
            let centerY = origin.y + (size.height / 2)
            return Point(x: centerX, y: centerY)
        }
        set { //set(newCenter)
            origin.x = newValue.x - (size.width / 2)
            origin.y = newValue.y - (size.height / 2)
        }
    }
}

//åªæœ‰ getter æ²¡æœ‰ setter çš„è®¡ç®—å±æ€§å°±æ˜¯åªè¯»è®¡ç®—å±æ€§ã€‚åªè¯»è®¡ç®—å±æ€§æ€»æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥é€šè¿‡ç‚¹è¿ç®—ç¬¦è®¿é—®ï¼Œä½†ä¸èƒ½è®¾ç½®æ–°çš„å€¼ã€‚
//å¿…é¡»ä½¿ç”¨varå…³é”®å­—å®šä¹‰è®¡ç®—å±æ€§ï¼ŒåŒ…æ‹¬åªè¯»è®¡ç®—å±æ€§ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼ä¸æ˜¯å›ºå®šçš„ã€‚letå…³é”®å­—åªç”¨æ¥å£°æ˜å¸¸é‡å±æ€§ï¼Œè¡¨ç¤ºåˆå§‹åŒ–åå†ä¹Ÿæ— æ³•ä¿®æ”¹çš„å€¼ã€‚
struct Cuboid {
    var width = 0.0,height = 0.0,depth = 0.0
    var volume:Double {
        get {
            return width * height * depth
        }
    }
}

let fourByFiveByTwo = Cuboid(width: 4.0, height: 12.0, depth: 5.0)
print("the volume of fourByFiveByTwo is \(fourByFiveByTwo.volume)")
/*
è¿™ä¸ªä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåä¸ºCuboidçš„ç»“æ„ä½“ï¼Œè¡¨ç¤ºä¸‰ç»´ç©ºé—´çš„ç«‹æ–¹ä½“ï¼ŒåŒ…å«widthã€heightå’Œdepthå±æ€§ã€‚ç»“æ„ä½“è¿˜æœ‰ä¸€ä¸ªåä¸ºvolumeçš„åªè¯»è®¡ç®—å±æ€§ç”¨æ¥è¿”å›ç«‹æ–¹ä½“çš„ä½“ç§¯ã€‚ä¸ºvolumeæä¾› setter æ¯«æ— æ„ä¹‰ï¼Œå› ä¸ºæ— æ³•ç¡®å®šå¦‚ä½•ä¿®æ”¹widthã€heightå’Œdepthä¸‰è€…çš„å€¼æ¥åŒ¹é…æ–°çš„volumeã€‚ç„¶è€Œï¼ŒCuboidæä¾›ä¸€ä¸ªåªè¯»è®¡ç®—å±æ€§æ¥è®©å¤–éƒ¨ç”¨æˆ·ç›´æ¥è·å–ä½“ç§¯æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚
*/


//å±æ€§è§‚å¯Ÿå™¨
//å±æ€§è§‚å¯Ÿå™¨ç›‘æ§å’Œå“åº”å±æ€§å€¼çš„å˜åŒ–ï¼Œæ¯æ¬¡å±æ€§è¢«è®¾ç½®å€¼çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨å±æ€§è§‚å¯Ÿå™¨ï¼Œç”šè‡³æ–°å€¼å’Œå½“å‰å€¼ç›¸åŒçš„æ—¶å€™ä¹Ÿä¸ä¾‹å¤–ã€‚
//å¯ä»¥ä¸ºé™¤äº†å»¶è¿Ÿå­˜å‚¨å±æ€§ä¹‹å¤–çš„å…¶ä»–å­˜å‚¨å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡å†™å±æ€§çš„æ–¹å¼ä¸ºç»§æ‰¿çš„å±æ€§ï¼ˆåŒ…æ‹¬å­˜å‚¨å±æ€§å’Œè®¡ç®—å±æ€§ï¼‰æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚
//ä¸éœ€è¦ä¸ºéé‡å†™çš„è®¡ç®—å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡å®ƒçš„ setter ç›´æ¥ç›‘æ§å’Œå“åº”å€¼çš„å˜åŒ–
/*
å¯ä»¥ä¸ºå±æ€§æ·»åŠ å¦‚ä¸‹çš„ä¸€ä¸ªæˆ–å…¨éƒ¨è§‚å¯Ÿå™¨ï¼š
willSetåœ¨æ–°çš„å€¼è¢«è®¾ç½®ä¹‹å‰è°ƒç”¨
didSetåœ¨æ–°çš„å€¼è¢«è®¾ç½®ä¹‹åç«‹å³è°ƒç”¨
willSetè§‚å¯Ÿå™¨ä¼šå°†æ–°çš„å±æ€§å€¼ä½œä¸ºå¸¸é‡å‚æ•°ä¼ å…¥ï¼Œåœ¨willSetçš„å®ç°ä»£ç ä¸­å¯ä»¥ä¸ºè¿™ä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªåç§°ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™å‚æ•°ä»ç„¶å¯ç”¨ï¼Œè¿™æ—¶ä½¿ç”¨é»˜è®¤åç§°newValueè¡¨ç¤ºã€‚
ç±»ä¼¼åœ°ï¼ŒdidSetè§‚å¯Ÿå™¨ä¼šå°†æ—§çš„å±æ€§å€¼ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¯ä»¥ä¸ºè¯¥å‚æ•°å‘½åæˆ–è€…ä½¿ç”¨é»˜è®¤å‚æ•°åoldValueã€‚
*/

//è¿™é‡Œæ˜¯ä¸€ä¸ªwillSetå’ŒdidSetçš„å®é™…ä¾‹å­ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸ºStepCounterçš„ç±»ï¼Œç”¨æ¥ç»Ÿè®¡ä¸€ä¸ªäººæ­¥è¡Œæ—¶çš„æ€»æ­¥æ•°ã€‚è¿™ä¸ªç±»å¯ä»¥è·Ÿè®¡æ­¥å™¨æˆ–å…¶ä»–æ—¥å¸¸é”»ç‚¼çš„ç»Ÿè®¡è£…ç½®çš„è¾“å…¥æ•°æ®é…åˆä½¿ç”¨ã€‚
class StepCounter {
    var totalSteps:Int = 0 {
        willSet(newTotalSteps) {
            print("about to set totalSteps to \(newTotalSteps)")
        }
        didSet {  //å¦‚æœåœ¨ä¸€ä¸ªå±æ€§çš„didSetè§‚å¯Ÿå™¨é‡Œä¸ºå®ƒèµ‹å€¼ï¼Œè¿™ä¸ªå€¼ä¼šæ›¿æ¢ä¹‹å‰è®¾ç½®çš„å€¼ã€‚
//            totalSteps = 500
            if totalSteps > oldValue {
                print("added \(totalSteps - oldValue) steps")
            }
        }
    }
}

let stepcounter = StepCounter()
stepcounter.totalSteps = 200
//about to set totalSteps to 200
//added 200 steps
stepcounter.totalSteps = 530
//about to set totalSteps to 530
//added 330 steps
stepcounter.totalSteps = 989
//about to set totalSteps to 989
//added 459 steps
//StepCounterç±»å®šä¹‰äº†ä¸€ä¸ªIntç±»å‹çš„å±æ€§totalStepsï¼Œå®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨å±æ€§ï¼ŒåŒ…å«willSetå’ŒdidSetè§‚å¯Ÿå™¨ã€‚
//å½“totalStepsè¢«è®¾ç½®æ–°å€¼çš„æ—¶å€™ï¼Œå®ƒçš„willSetå’ŒdidSetè§‚å¯Ÿå™¨éƒ½ä¼šè¢«è°ƒç”¨ï¼Œç”šè‡³æ–°å€¼å’Œå½“å‰å€¼å®Œå…¨ç›¸åŒæ—¶ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚

//å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡
//è®¡ç®—å±æ€§å’Œå±æ€§è§‚å¯Ÿå™¨æ‰€æè¿°çš„åŠŸèƒ½ä¹Ÿå¯ä»¥ç”¨äºå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å…¨å±€å˜é‡æ˜¯åœ¨å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…æˆ–ä»»ä½•ç±»å‹ä¹‹å¤–å®šä¹‰çš„å˜é‡ã€‚å±€éƒ¨å˜é‡æ˜¯åœ¨å‡½æ•°ã€æ–¹æ³•æˆ–é—­åŒ…å†…éƒ¨å®šä¹‰çš„å˜é‡ã€‚
/**
å¦å¤–ï¼Œåœ¨å…¨å±€æˆ–å±€éƒ¨èŒƒå›´éƒ½å¯ä»¥å®šä¹‰è®¡ç®—å‹å˜é‡å’Œä¸ºå­˜å‚¨å‹å˜é‡å®šä¹‰è§‚å¯Ÿå™¨ã€‚è®¡ç®—å‹å˜é‡è·Ÿè®¡ç®—å±æ€§ä¸€æ ·ï¼Œè¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœè€Œä¸æ˜¯å­˜å‚¨å€¼ï¼Œå£°æ˜æ ¼å¼ä¹Ÿå®Œå…¨ä¸€æ ·ã€‚
æ³¨æ„
å…¨å±€çš„å¸¸é‡æˆ–å˜é‡éƒ½æ˜¯å»¶è¿Ÿè®¡ç®—çš„ï¼Œè·Ÿå»¶è¿Ÿå­˜å‚¨å±æ€§ç›¸ä¼¼ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œå…¨å±€çš„å¸¸é‡æˆ–å˜é‡ä¸éœ€è¦æ ‡è®°lazyä¿®é¥°ç¬¦ã€‚
å±€éƒ¨èŒƒå›´çš„å¸¸é‡æˆ–å˜é‡ä»ä¸å»¶è¿Ÿè®¡ç®—ã€‚
*/

//ç±»å‹å±æ€§
//å®ä¾‹å±æ€§å±äºä¸€ä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå®ä¾‹éƒ½æ‹¥æœ‰å±äºè‡ªå·±çš„ä¸€å¥—å±æ€§å€¼ï¼Œå®ä¾‹ä¹‹é—´çš„å±æ€§ç›¸äº’ç‹¬ç«‹ã€‚
//ä¹Ÿå¯ä»¥ä¸ºç±»å‹æœ¬èº«å®šä¹‰å±æ€§ï¼Œæ— è®ºåˆ›å»ºäº†å¤šå°‘ä¸ªè¯¥ç±»å‹çš„å®ä¾‹ï¼Œè¿™äº›å±æ€§éƒ½åªæœ‰å”¯ä¸€ä¸€ä»½ã€‚è¿™ç§å±æ€§å°±æ˜¯ç±»å‹å±æ€§ã€‚
/*
ç±»å‹å±æ€§ç”¨äºå®šä¹‰æŸä¸ªç±»å‹æ‰€æœ‰å®ä¾‹å…±äº«çš„æ•°æ®ï¼Œæ¯”å¦‚æ‰€æœ‰å®ä¾‹éƒ½èƒ½ç”¨çš„ä¸€ä¸ªå¸¸é‡ï¼ˆå°±åƒ C è¯­è¨€ä¸­çš„é™æ€å¸¸é‡ï¼‰ï¼Œæˆ–è€…æ‰€æœ‰å®ä¾‹éƒ½èƒ½è®¿é—®çš„ä¸€ä¸ªå˜é‡ï¼ˆå°±åƒ C è¯­è¨€ä¸­çš„é™æ€å˜é‡ï¼‰ã€‚
å­˜å‚¨å‹ç±»å‹å±æ€§å¯ä»¥æ˜¯å˜é‡æˆ–å¸¸é‡ï¼Œè®¡ç®—å‹ç±»å‹å±æ€§è·Ÿå®ä¾‹çš„è®¡ç®—å‹å±æ€§ä¸€æ ·åªèƒ½å®šä¹‰æˆå˜é‡å±æ€§ã€‚
ğŸ·ï¼š
è·Ÿå®ä¾‹çš„å­˜å‚¨å‹å±æ€§ä¸åŒï¼Œå¿…é¡»ç»™å­˜å‚¨å‹ç±»å‹å±æ€§æŒ‡å®šé»˜è®¤å€¼ï¼Œå› ä¸ºç±»å‹æœ¬èº«æ²¡æœ‰æ„é€ å™¨ï¼Œä¹Ÿå°±æ— æ³•åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä½¿ç”¨æ„é€ å™¨ç»™ç±»å‹å±æ€§èµ‹å€¼ã€‚
å­˜å‚¨å‹ç±»å‹å±æ€§æ˜¯å»¶è¿Ÿåˆå§‹åŒ–çš„ï¼Œå®ƒä»¬åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®çš„æ—¶å€™æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å³ä½¿å®ƒä»¬è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œç³»ç»Ÿä¹Ÿä¿è¯åªä¼šå¯¹å…¶è¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸éœ€è¦å¯¹å…¶ä½¿ç”¨lazyä¿®é¥°ç¬¦ã€‚
*/

//ç±»å‹å±æ€§è¯­æ³•
//ä½¿ç”¨å…³é”®å­—staticæ¥å®šä¹‰ç±»å‹å±æ€§ã€‚åœ¨ä¸ºç±»å®šä¹‰è®¡ç®—å‹ç±»å‹å±æ€§æ—¶ï¼Œå¯ä»¥æ”¹ç”¨å…³é”®å­—classæ¥æ”¯æŒå­ç±»å¯¹çˆ¶ç±»çš„å®ç°è¿›è¡Œé‡å†™ã€‚
struct SomeStructure {
    static var storedTypeProperty = "some value"
    static var computedTypeProperty:Int {
        return 1
    }
}

enum SomeEnumeration {
    static var storedTypeProperty = "some value"
    static var computedTypeProperty:Int {
        return 6
    }
}

class SomeClass {
    static var storedTypeProperty = "some value"
    static var computedTypeProperty:Int {
        return 27
    }
    class var overrideableComputedTypeProperty: Int {
        return 107
    }
}

//ä¾‹å­ä¸­çš„è®¡ç®—å‹ç±»å‹å±æ€§æ˜¯åªè¯»çš„ï¼Œä½†ä¹Ÿå¯ä»¥å®šä¹‰å¯è¯»å¯å†™çš„è®¡ç®—å‹ç±»å‹å±æ€§ï¼Œè·Ÿè®¡ç®—å‹å®ä¾‹å±æ€§çš„è¯­æ³•ç›¸åŒã€‚

//è·å–å’Œè®¾ç½®ç±»å‹å±æ€§çš„å€¼
//è·Ÿå®ä¾‹å±æ€§ä¸€æ ·ï¼Œç±»å‹å±æ€§ä¹Ÿæ˜¯é€šè¿‡ç‚¹è¿ç®—ç¬¦æ¥è®¿é—®ã€‚ä½†æ˜¯ï¼Œç±»å‹å±æ€§æ˜¯é€šè¿‡ç±»å‹æœ¬èº«æ¥è®¿é—®ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹ã€‚æ¯”å¦‚ï¼š
print(SomeStructure.storedTypeProperty)
SomeStructure.storedTypeProperty = "another value"
print(SomeStructure.storedTypeProperty)

print(SomeEnumeration.computedTypeProperty)
print(SomeClass.computedTypeProperty)

//ä¸¤ä¸ªå£°é“æ¥æ¨¡æ‹Ÿç«‹ä½“å£°çš„éŸ³é‡
struct audioChannel {
    static let thresholdLevel = 10 //éŸ³é‡çš„æœ€å¤§ä¸Šé™é˜ˆå€¼
    static var maxInputLevelForAllChannels = 0 //å˜é‡å­˜å‚¨å±æ€§ è¡¨ç¤ºæœ€å¤§éŸ³é‡
    var currentLevel:Int = 0{ //å½“å‰éŸ³é‡é™åˆ¶çš„éŸ³é‡ 0-10
        didSet {//æ·»åŠ å±æ€§è§‚å¯Ÿå™¨
            /**
            *  å±æ€§currentLevelåŒ…å«didSetå±æ€§è§‚å¯Ÿå™¨æ¥æ£€æŸ¥æ¯æ¬¡è®¾ç½®åçš„å±æ€§å€¼ï¼Œå®ƒåšå¦‚ä¸‹ä¸¤ä¸ªæ£€æŸ¥ï¼š
            å¦‚æœcurrentLevelçš„æ–°å€¼å¤§äºå…è®¸çš„é˜ˆå€¼thresholdLevelï¼Œå±æ€§è§‚å¯Ÿå™¨å°†currentLevelçš„å€¼é™å®šä¸ºé˜ˆå€¼thresholdLevelã€‚
            å¦‚æœä¿®æ­£åçš„currentLevelå€¼å¤§äºé™æ€ç±»å‹å±æ€§maxInputLevelForAllChannelsçš„å€¼ï¼Œå±æ€§è§‚å¯Ÿå™¨å°±å°†æ–°å€¼ä¿å­˜åœ¨maxInputLevelForAllChannelsä¸­ã€‚
            */
            if currentLevel > audioChannel.thresholdLevel {
                //å°†å½“å‰éŸ³é‡é™åˆ¶åœ¨é˜ˆå€¼ä¹‹å†…
                currentLevel = audioChannel.thresholdLevel
            }
            if currentLevel > audioChannel.maxInputLevelForAllChannels {
                //å­˜å‚¨å½“å‰éŸ³é‡ä½œä¸ºæ–°çš„æœ€å¤§è¾“å…¥éŸ³é‡
                audioChannel.maxInputLevelForAllChannels = currentLevel
            }
        }
    }
}

//å¯ä»¥ä½¿ç”¨ç»“æ„ä½“AudioChannelåˆ›å»ºä¸¤ä¸ªå£°é“leftChannelå’ŒrightChannelï¼Œç”¨ä»¥è¡¨ç¤ºç«‹ä½“å£°ç³»ç»Ÿçš„éŸ³é‡ï¼š
print("--------------------è·å–å’Œè®¾ç½®ç±»å‹å±æ€§çš„å€¼-----------------------")
var leftChannel = audioChannel()
var rightChannel = audioChannel()
leftChannel.currentLevel = 7
print(leftChannel.currentLevel)
print(rightChannel.currentLevel)
print(audioChannel.maxInputLevelForAllChannels)
print("------------ä¿®æ”¹æœ€å¤§å±æ€§å€¼-----------------")
//å¦‚æœè¯•å›¾å°†å³å£°é“çš„currentLevelè®¾ç½®æˆ11ï¼Œå®ƒä¼šè¢«ä¿®æ­£åˆ°æœ€å¤§å€¼10ï¼ŒåŒæ—¶maxInputLevelForAllChannelsçš„å€¼ä¹Ÿä¼šæ›´æ–°åˆ°10ï¼š
rightChannel.currentLevel = 15
print(leftChannel.currentLevel)
print(rightChannel.currentLevel)
print(audioChannel.maxInputLevelForAllChannels)
